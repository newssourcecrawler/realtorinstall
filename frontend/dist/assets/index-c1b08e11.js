(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&o(l)}).observe(document,{childList:!0,subtree:!0});function i(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(t){if(t.ep)return;t.ep=!0;const r=i(t);fetch(t.href,r)}})();function c(e){window.wails.Log.Debug(e)}function a(e){window.wails.Log.Info(e)}function u(e){window.wails.Log.Warning(e)}function p(e){window.wails.Log.Error(e)}function m(e){window.wails.Log.Fatal(e)}var w={Debug:c,Info:a,Warning:u,Error:p,Fatal:m};function f(e){return window.wails.Browser.OpenURL(e)}function y(e){return window.wails.Browser.OpenFile(e)}var g={OpenURL:f,OpenFile:y};function d(e,n,i){window.wails.Events.OnMultiple(e,n,i)}function b(e,n){d(e,n)}function v(e,n){d(e,n,1)}function E(e){var n=[e].slice.call(arguments);return window.wails.Events.Emit.apply(null,n)}function L(e,n,i){window.wails.Events.Heartbeat(e,n,i)}function h(e){return window.wails.Events.Acknowledge(e)}var s={OnMultiple:d,On:b,Once:v,Emit:E,Heartbeat:L,Acknowledge:h};function I(e){window.wails._.Init(e)}var P=I;const O=s;function B(e){O.On("wails:system:themechange",e)}function S(){return window.wails.System.IsDarkMode.get()}var A={OnThemeChange:B,DarkModeEnabled:S};function M(e,n){return window.wails.Store.New(e,n)}var D={New:M};const F=w,C=g,N=s,H=P,$=A,T=D;var z={Log:F,Browser:C,Events:N,Init:H,System:$,Store:T};function k(e,n){return window.go.services.PropertyService.CreateProperty(e,n)}function q(e){return window.go.services.PropertyService.ListProperties(e)}console.log("main.js loaded");document.addEventListener("DOMContentLoaded",()=>{console.log("DOM fully loaded, attaching event listeners");const e=document.getElementById("content"),n=document.getElementById("btnListProps"),i=document.getElementById("btnAddProp");n.addEventListener("click",async()=>{console.log("List All Properties clicked");try{const o=await q();if(o.length===0){e.innerHTML="<p>No properties found.</p>";return}let t="<h2>All Properties</h2><table><tr><th>ID</th><th>Address</th><th>City</th><th>ZIP</th></tr>";o.forEach(r=>{t+=`<tr><td>${r.ID}</td><td>${r.Address}</td><td>${r.City}</td><td>${r.ZIP}</td></tr>`}),t+="</table>",e.innerHTML=t}catch(o){e.innerHTML=`<p style="color:red;">Error: ${o}</p>`}}),i.addEventListener("click",()=>{console.log("Add New Property clicked"),e.innerHTML=`
      <h2>Add New Property</h2>
      <form id="addPropForm">
        <label>Address: <input type="text" id="addr" required /></label><br/><br/>
        <label>City: <input type="text" id="city" required /></label><br/><br/>
        <label>ZIP: <input type="text" id="zip" required /></label><br/><br/>
        <label>Location Code: <input type="text" id="loccode" /></label><br/><br/>
        <label>Size (ftÂ²): <input type="number" id="size" /></label><br/><br/>
        <label>Base Price (USD): <input type="number" id="price" /></label><br/><br/>
        <button type="submit">Save</button>
      </form>
      <div id="result"></div>
    `,document.getElementById("addPropForm").addEventListener("submit",async t=>{t.preventDefault(),console.log("Submitting Add New Property form");const r={Address:document.getElementById("addr").value,City:document.getElementById("city").value,ZIP:document.getElementById("zip").value,LocationCode:document.getElementById("loccode").value,SizeSqFt:parseFloat(document.getElementById("size").value)||0,BasePriceUSD:parseFloat(document.getElementById("price").value)||0};try{const l=await k(r);document.getElementById("result").innerHTML=`<p style="color:green;">Created property with ID: ${l}</p>`}catch(l){document.getElementById("result").innerHTML=`<p style="color:red;">Error: ${l}</p>`}})}),z.runtime.EventsOn("frontend:ready",()=>{console.log("Frontend is ready (Wails runtime)")})});
